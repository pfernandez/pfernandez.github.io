import{M as f,b as C,l as r,h as k,C as d,J as l,L as u,I as S,Q as m,a as s,H as p,V as M,W as g,v as A}from"./index-qNrukWGA.js";import{T as h}from"./TextParser-DeC8DFWO.js";import{T as t}from"./TextMacrosMethods-CLrYaJ2g.js";import"./index-DkSxGWYw.js";const n=k.Variant;new f("text-special",{$:t.Math,"%":t.Comment,"^":t.MathModeOnly,_:t.MathModeOnly,"&":t.Misplaced,"#":t.Misplaced,"~":t.Tilde," ":t.Space,"	":t.Space,"\r":t.Space,"\n":t.Space," ":t.Tilde,"{":t.OpenBrace,"}":t.CloseBrace,"`":t.OpenQuote,"'":t.CloseQuote});new C("text-macros",{"(":t.Math,$:t.SelfQuote,_:t.SelfQuote,"%":t.SelfQuote,"{":t.SelfQuote,"}":t.SelfQuote," ":t.SelfQuote,"&":t.SelfQuote,"#":t.SelfQuote,"\\":[t.Macro,"$\\\\$"],"'":[t.Accent,"´"],"’":[t.Accent,"´"],"`":[t.Accent,"`"],"‘":[t.Accent,"`"],"^":[t.Accent,"^"],'"':[t.Accent,"¨"],"~":[t.Accent,"~"],"=":[t.Accent,"¯"],".":[t.Accent,"˙"],u:[t.Accent,"˘"],v:[t.Accent,"ˇ"],emph:t.Emph,rm:[t.SetFont,n.NORMAL],mit:[t.SetFont,n.ITALIC],oldstyle:[t.SetFont,n.OLDSTYLE],cal:[t.SetFont,n.CALLIGRAPHIC],it:[t.SetFont,"-tex-mathit"],bf:[t.SetFont,n.BOLD],sf:[t.SetFont,n.SANSSERIF],tt:[t.SetFont,n.MONOSPACE],frak:[t.TextFont,n.FRAKTUR],Bbb:[t.TextFont,n.DOUBLESTRUCK],tiny:[t.SetSize,.5],Tiny:[t.SetSize,.6],scriptsize:[t.SetSize,.7],small:[t.SetSize,.85],normalsize:[t.SetSize,1],large:[t.SetSize,1.2],Large:[t.SetSize,1.44],LARGE:[t.SetSize,1.73],huge:[t.SetSize,2.07],Huge:[t.SetSize,2.49],textnormal:[t.Macro,"{\\rm #1}",1],textup:[t.Macro,"{\\rm #1}",1],textrm:[t.Macro,"{\\rm #1}",1],textit:[t.Macro,"{\\it #1}",1],textbf:[t.Macro,"{\\bf #1}",1],textsf:[t.Macro,"{\\sf #1}",1],texttt:[t.Macro,"{\\tt #1}",1],dagger:[t.Insert,"†"],ddagger:[t.Insert,"‡"],S:[t.Insert,"§"],AA:[t.Insert,"Å"],ldots:[t.Insert,"…"],vdots:[t.Insert,"⋮"],",":[t.Spacer,r.thinmathspace],":":[t.Spacer,r.mediummathspace],">":[t.Spacer,r.mediummathspace],";":[t.Spacer,r.thickmathspace],"!":[t.Spacer,r.negativethinmathspace],enspace:[t.Spacer,.5],quad:[t.Spacer,1],qquad:[t.Spacer,2],thinspace:[t.Spacer,r.thinmathspace],negthinspace:[t.Spacer,r.negativethinmathspace],hskip:t.Hskip,hspace:t.Hskip,kern:t.Hskip,mskip:t.Hskip,mspace:t.Hskip,mkern:t.Hskip,rule:t.rule,Rule:[t.Rule],Space:[t.Rule,"blank"],color:t.CheckAutoload,textcolor:t.CheckAutoload,colorbox:t.CheckAutoload,fcolorbox:t.CheckAutoload,href:t.CheckAutoload,style:t.CheckAutoload,class:t.CheckAutoload,data:t.CheckAutoload,cssId:t.CheckAutoload,unicode:t.CheckAutoload,U:t.CheckAutoload,char:t.CheckAutoload,ref:[t.HandleRef,!1],eqref:[t.HandleRef,!0],underline:[t.UnderOver,"2015"],llap:t.Lap,rlap:t.Lap,phantom:t.Phantom,vphantom:[t.Phantom,1,0],hphantom:[t.Phantom,0,1],smash:t.Smash,mmlToken:t.MmlToken});const F=d.create("text-base",{[s.PARSER]:"text",[s.PRIORITY]:1,[s.HANDLER]:{[p.CHARACTER]:["command","text-special"],[p.MACRO]:["text-macros"]},[s.FALLBACK]:{[p.CHARACTER]:(o,e)=>{o.text+=e},[p.MACRO]:(o,e)=>{const c=o.texParser,a=c.lookup(p.MACRO,e);a&&a._func!==t.Macro&&o.Error("MathMacro","%1 is only supported in math mode","\\"+e),c.parse(p.MACRO,[o,e])}},[s.ITEMS]:{[m.prototype.kind]:m,[S.prototype.kind]:S,[u.prototype.kind]:u,[l.prototype.kind]:l}});function x(o,e,c,a){const i=o.configuration.packageData.get("textmacros");return o instanceof h||(i.texParser=o),i.parseOptions.clear(),[new h(e,a?{mathvariant:a}:{},i.parseOptions,c).mml()]}const P=d.create("textmacros",{[s.PRIORITY]:1,[s.CONFIG]:(o,e)=>{const c=new M(e.parseOptions.options.textmacros.packages,["tex","text"]);c.init();const a=new g(c,[]);a.options=e.parseOptions.options,c.config(e),A.addTags(c.tags),a.tags=A.getDefault(),a.tags.configuration=a,a.packageData=e.parseOptions.packageData,a.packageData.set("textmacros",{textConf:c,parseOptions:a,jax:e,texParser:null}),a.options.internalMath=x},[s.PREPROCESSORS]:[o=>{const e=o.data.packageData.get("textmacros");e.parseOptions.nodeFactory.setMmlFactory(e.jax.mmlFactory)}],[s.OPTIONS]:{textmacros:{packages:["text-base"]}}});export{F as TextBaseConfiguration,P as TextMacrosConfiguration};
