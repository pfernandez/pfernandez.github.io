import{j as h,N as m,e as c,C as F,a as g,H as A,b as w}from"./index-qNrukWGA.js";import"./index-DkSxGWYw.js";function B(o){const e=`+${o}`,t=o.replace(/^.*?([a-z]*)$/,"$1");return{width:`+${2*parseFloat(e)}${t}`,height:e,depth:e,lspace:o}}const i={Color(o,e){const t=o.GetBrackets(e,""),l=o.GetArgument(e),n=o.configuration.packageData.get("color").model.getColor(t,l),a=o.itemFactory.create("style").setProperties({styles:{mathcolor:n}});o.stack.env.color=n,o.Push(a)},TextColor(o,e){const t=o.GetBrackets(e,""),l=o.GetArgument(e),n=o.configuration.packageData.get("color").model.getColor(t,l),a=o.stack.env.color;o.stack.env.color=n;const d=o.ParseArg(e);a?o.stack.env.color=a:delete o.stack.env.color;const u=o.create("node","mstyle",[d],{mathcolor:n});o.Push(u)},DefineColor(o,e){const t=o.GetArgument(e),l=o.GetArgument(e),r=o.GetArgument(e);o.configuration.packageData.get("color").model.defineColor(l,t,r),o.Push(o.itemFactory.create("null"))},ColorBox(o,e){const t=o.GetBrackets(e,""),l=o.GetArgument(e),r=h.internalMath(o,o.GetArgument(e)),n=o.configuration.packageData.get("color").model,a=o.create("node","mpadded",r,{mathbackground:n.getColor(t,l)});m.setProperties(a,B(o.options.color.padding)),o.Push(a)},FColorBox(o,e){const t=o.GetBrackets(e,""),l=o.GetArgument(e),r=o.GetBrackets(e,t),n=o.GetArgument(e),a=h.internalMath(o,o.GetArgument(e)),d=o.options.color,u=o.configuration.packageData.get("color").model,C=o.create("node","mpadded",a,{mathbackground:u.getColor(r,n),style:`border: ${d.borderWidth} solid ${u.getColor(t,l)}`});m.setProperties(C,B(d.padding)),o.Push(C)}},f=new Map([["Apricot","#FBB982"],["Aquamarine","#00B5BE"],["Bittersweet","#C04F17"],["Black","#221E1F"],["Blue","#2D2F92"],["BlueGreen","#00B3B8"],["BlueViolet","#473992"],["BrickRed","#B6321C"],["Brown","#792500"],["BurntOrange","#F7921D"],["CadetBlue","#74729A"],["CarnationPink","#F282B4"],["Cerulean","#00A2E3"],["CornflowerBlue","#41B0E4"],["Cyan","#00AEEF"],["Dandelion","#FDBC42"],["DarkOrchid","#A4538A"],["Emerald","#00A99D"],["ForestGreen","#009B55"],["Fuchsia","#8C368C"],["Goldenrod","#FFDF42"],["Gray","#949698"],["Green","#00A64F"],["GreenYellow","#DFE674"],["JungleGreen","#00A99A"],["Lavender","#F49EC4"],["LimeGreen","#8DC73E"],["Magenta","#EC008C"],["Mahogany","#A9341F"],["Maroon","#AF3235"],["Melon","#F89E7B"],["MidnightBlue","#006795"],["Mulberry","#A93C93"],["NavyBlue","#006EB8"],["OliveGreen","#3C8031"],["Orange","#F58137"],["OrangeRed","#ED135A"],["Orchid","#AF72B0"],["Peach","#F7965A"],["Periwinkle","#7977B8"],["PineGreen","#008B72"],["Plum","#92268F"],["ProcessBlue","#00B0F0"],["Purple","#99479B"],["RawSienna","#974006"],["Red","#ED1B23"],["RedOrange","#F26035"],["RedViolet","#A1246B"],["Rhodamine","#EF559F"],["RoyalBlue","#0071BC"],["RoyalPurple","#613F99"],["RubineRed","#ED017D"],["Salmon","#F69289"],["SeaGreen","#3FBC9D"],["Sepia","#671800"],["SkyBlue","#46C5DD"],["SpringGreen","#C6DC67"],["Tan","#DA9D76"],["TealBlue","#00AEB3"],["Thistle","#D883B7"],["Turquoise","#00B4CE"],["Violet","#58429B"],["VioletRed","#EF58A0"],["White","#FFFFFF"],["WildStrawberry","#EE2967"],["Yellow","#FFF200"],["YellowGreen","#98CC70"],["YellowOrange","#FAA21A"]]),s=new Map;class G{constructor(){this.userColors=new Map}normalizeColor(e,t){if(!e||e==="named"){if(t.match(/;/))throw new c("BadColorValue","Invalid color value");return t}if(s.has(e))return s.get(e)(t);throw new c("UndefinedColorModel","Color model '%1' not defined",e)}getColor(e,t){return!e||e==="named"?this.getColorByName(t):this.normalizeColor(e,t)}getColorByName(e){if(this.userColors.has(e))return this.userColors.get(e);if(f.has(e))return f.get(e);if(e.match(/;/))throw new c("BadColorValue","Invalid color value");return e}defineColor(e,t,l){const r=this.normalizeColor(e,l);this.userColors.set(t,r)}}s.set("rgb",function(o){const e=o.trim().split(/\s*,\s*/);let t="#";if(e.length!==3)throw new c("ModelArg1","Color values for the %1 model require 3 numbers","rgb");for(const l of e){if(!l.match(/^(\d+(\.\d*)?|\.\d+)$/))throw new c("InvalidDecimalNumber","Invalid decimal number");const r=parseFloat(l);if(r<0||r>1)throw new c("ModelArg2","Color values for the %1 model must be between %2 and %3","rgb","0","1");let n=Math.floor(r*255).toString(16);n.length<2&&(n="0"+n),t+=n}return t});s.set("RGB",function(o){const e=o.trim().split(/\s*,\s*/);let t="#";if(e.length!==3)throw new c("ModelArg1","Color values for the %1 model require 3 numbers","RGB");for(const l of e){if(!l.match(/^\d+$/))throw new c("InvalidNumber","Invalid number");const r=parseInt(l);if(r>255)throw new c("ModelArg2","Color values for the %1 model must be between %2 and %3","RGB","0","255");let n=r.toString(16);n.length<2&&(n="0"+n),t+=n}return t});s.set("gray",function(o){if(!o.match(/^\s*(\d+(\.\d*)?|\.\d+)\s*$/))throw new c("InvalidDecimalNumber","Invalid decimal number");const e=parseFloat(o);if(e<0||e>1)throw new c("ModelArg2","Color values for the %1 model must be between %2 and %3","gray","0","1");let t=Math.floor(e*255).toString(16);return t.length<2&&(t="0"+t),`#${t}${t}${t}`});new w("color",{color:i.Color,textcolor:i.TextColor,definecolor:i.DefineColor,colorbox:i.ColorBox,fcolorbox:i.FColorBox});const D=function(o,e){e.parseOptions.packageData.set("color",{model:new G})},k=F.create("color",{[g.HANDLER]:{[A.MACRO]:["color"]},[g.OPTIONS]:{color:{padding:"5px",borderWidth:"2px"}},[g.CONFIG]:D});export{k as ColorConfiguration};
