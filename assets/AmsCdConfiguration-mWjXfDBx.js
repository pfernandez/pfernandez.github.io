import{O as P,T as h,N as s,c as T,E as A,P as _,b as z,M,C as N,a as y,H as w}from"./index-qNrukWGA.js";import"./index-DkSxGWYw.js";const c={CD(e,o){e.Push(o);const i=e.itemFactory.create("array"),n=e.configuration.options.amscd;return i.setProperties({minw:e.stack.env.CD_minw||n.harrowsize,minh:e.stack.env.CD_minh||n.varrowsize}),i.arraydef={columnalign:"center",columnspacing:n.colspace,rowspacing:n.rowspace,displaystyle:!0},i},arrow(e,o){const i=e.i,n=e.GetNext();if(n.match(/[><VA.|=]/))e.i++;else return e.i=i,P(e,o);let r=e.stack.Top();(!r.isKind("array")||r.Size())&&(c.cell(e,o),r=e.stack.Top());const d=r,p=d.table.length%2===1;let f=(d.row.length+(p?0:1))%2;for(;f;)c.cell(e,o),f--;let t;const u={minsize:d.getProperty("minw"),stretchy:!0},C={minsize:d.getProperty("minh"),stretchy:!0,symmetric:!0,lspace:0,rspace:0};if(n==="|")t=e.create("token","mo",C,"∥");else if(n==="=")t=e.create("token","mo",u,"=");else if(n!=="."){const g={">":"→","<":"←",V:"↓",A:"↑"}[n];let a=e.GetUpTo(o+n,n);const l=e.GetUpTo(o+n,n);if(n===">"||n==="<"){t=e.create("token","mo",u,g),a||(a="\\kern "+d.getProperty("minw"));const m={width:"+.67em",lspace:".33em"};t=e.create("node","munderover",[t]);const D=new h(a,e.stack.env,e.configuration).mml(),v=e.create("node","mpadded",[D],m);if(s.setAttribute(v,"voffset",".1em"),s.setChild(t,t.over,v),l){const k=new h(l,e.stack.env,e.configuration).mml();s.setChild(t,t.under,e.create("node","mpadded",[k],m))}e.configuration.options.amscd.hideHorizontalLabels&&(t=e.create("node","mpadded",[t],{depth:0,height:".67em"}))}else{const m=e.create("token","mo",C,g);t=m,(a||l)&&(t=e.create("node","mrow"),a&&s.appendChildren(t,[new h("\\scriptstyle\\raise.125em{\\vcenter{\\llap{"+a+"}}}",e.stack.env,e.configuration).mml()]),m.texClass=T.ORD,s.appendChildren(t,[m]),l&&s.appendChildren(t,[new h("\\scriptstyle\\raise.125em{\\vcenter{\\rlap{"+l+"}}}",e.stack.env,e.configuration).mml()]))}}t&&e.Push(t),c.cell(e,o)},cell(e,o){const i=e.stack.Top();(i.table||[]).length%2===0&&(i.row||[]).length===0&&e.Push(e.create("node","mpadded",[],{height:"8.5pt",depth:"2pt"})),e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:o}))},minCDarrowwidth(e,o){e.stack.env.CD_minw=e.GetDimen(o)},minCDarrowheight(e,o){e.stack.env.CD_minh=e.GetDimen(o)}};new A("amscd_environment",_.environment,{CD:c.CD});new z("amscd_macros",{minCDarrowwidth:c.minCDarrowwidth,minCDarrowheight:c.minCDarrowheight});new M("amscd_special",{"@":c.arrow});const O=N.create("amscd",{[y.HANDLER]:{[w.CHARACTER]:["amscd_special"],[w.MACRO]:["amscd_macros"],[w.ENVIRONMENT]:["amscd_environment"]},[y.OPTIONS]:{amscd:{colspace:"5pt",rowspace:"5pt",harrowsize:"2.75em",varrowsize:"1.75em",hideHorizontalLabels:!1}}});export{O as AmsCdConfiguration};
