import{C,a as r,p as i,M as l,b as A,E as N,P as u,H as p,q as m}from"./index-qNrukWGA.js";import{B as v,N as f}from"./NewcommandMethods-BDZl_aKP.js";import"./index-DkSxGWYw.js";import"./NewcommandUtil-D3UYa-Vw.js";const M="configmacros-map",d="configmacros-active-map",g="configmacros-env-map";function I(n){new l(d,{}),new A(M,{}),new N(g,u.environment,{}),n.append(C.local({handler:{[p.CHARACTER]:[d],[p.MACRO]:[M],[p.ENVIRONMENT]:[g]},priority:3}))}function T(n,o){y(o),h(o),w(o)}function O(n,o,a){const s=a.parseOptions.handlers.retrieve(o),t=a.parseOptions.options[n];for(const e of Object.keys(t)){const c=typeof t[e]=="string"?[t[e]]:t[e],E=Array.isArray(c[2])?new m(e,f.MacroWithTemplate,c.slice(0,2).concat(c[2])):new m(e,f.Macro,c);s.add(e,E)}}function y(n){O("active",d,n)}function h(n){O("macros",M,n)}function w(n){const o=n.parseOptions.handlers.retrieve(g),a=n.parseOptions.options.environments;for(const s of Object.keys(a))o.add(s,new m(s,f.BeginEnv,[!0].concat(a[s])))}const B=C.create("configmacros",{[r.INIT]:I,[r.CONFIG]:T,[r.ITEMS]:{[v.prototype.kind]:v},[r.OPTIONS]:{active:i({}),macros:i({}),environments:i({})}});export{B as ConfigMacrosConfiguration};
